<!DOCTYPE html>
<!-- ●ここから人間用のヘッダー● -->
<html lang="ja">

<head>
 <link rel="manifest" href="/manifest.json">

 <script>
  if ('serviceWorker' in navigator) {
   navigator.serviceWorker.register('/service-worker.js')
    .then(registration => {
     console.log('ServiceWorker registration successful with scope: ', registration.scope);
    })
    .catch(error => {
     console.log('ServiceWorker registration failed: ', error);
    });
  }
 </script>

 <meta charset="UTF-8">
 <title>GitHubのREADMEをPythonを使ってWebページにする</title>
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <meta name="description" content="主にPythonの書き方を紹介しているページ。可能な限り、教科書でもよく見るようなコードのみで構成しています。">
 <meta name="keywords" content="個人サイト, Python, コマンドプロンプト">
 <meta name="robots" content="index, follow">
 <meta property="og:title" content="GitHubのREADMEをPythonを使ってWebページにする">
 <meta property="og:description" content="主にPythonの書き方を紹介しているページ。可能な限り、教科書でもよく見るようなコードのみで構成しています。">
 <meta property="og:image" content="../image/アナザーエデンのバディ_ピスケ.png">
 <meta property="og:url" content="https://feinatelier.org/contents/py_readme.html">
 <link rel="stylesheet" type="text/css" href="/css/style.css">
 <link rel="stylesheet" type="text/css" href="/css/header.css">
 <link rel="stylesheet" type="text/css" href="/css/footer.css">
 <link rel="stylesheet" type="text/css" href="/css/menu.css">
 <link rel="stylesheet" type="text/css" href="/css/flower.css">
 <link rel="stylesheet" type="text/css" href="/css/feinpan.css">
 <link rel="stylesheet" type="text/css" href="/css/feinheadline1.css">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-tomorrow.min.css">

 <script src="/script/underline.js"></script>
 <script src="/script/feinfade.js"></script>
 <script src="/script/feinScroll.js"></script>

 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-python.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-bash.min.js"></script>
 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
 <link
  href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap"
  rel="stylesheet">
 <script async src="https://www.googletagmanager.com/gtag/js?id=G-827JM6N5CS"></script>
 <script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'G-827JM6N5CS');
 </script>
 <script>
  (function (c, l, a, r, i, t, y) {
   c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) };
   t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
   y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
  })(window, document, "clarity", "script", "obazqypsh8");
 </script>
 <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "GitHubのREADMEをPythonを使ってWebページにする",
        "url": "https://feinatelier.org/contents/py_readme.html",
        "logo": "https://feinatelier.org/image/barracuda.jpeg"
    }
    </script>
 <link rel="apple-touch-icon" sizes="180x180" href="/icons/appleicon.png">
 <link rel="icon" sizes="32x32" href="/favicon.ico" type="image/x-icon">
</head>

<body>

 <nav class="den_nav">
  <ul>
   <li>
    <a href="https://feinatelier.org/" class="animated-link feinhome-link">
     <img src="/menu/mspass.webp" alt="このサイトのシンボルマーク" class="feinhome">
     <span>fein's home</span>
    </a>
   </li>

   <li><a href="/another-eden/anaden_sitemap.html" class="animated-link">アナザーエデン</a></li>
   <li><a href="/fish/fish_sitemap.html" class="animated-link">アウトドアのエリア</a></li>
   <li><a href="/contents/site_create.html" class="animated-link">個人サイト制作</a></li>
   <li><a href="/contents/protect.html" class="animated-link">AI学習を防ぐ工夫</a></li>
   <li><a href="/contents/rss.html" class="animated-link">更新のお知らせ</a></li>
  </ul>
 </nav>

 <!--レスポンシブデザイン-->
 <div class="feincontainer">

  <!--パンくずリスト-->
  <div>
   <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/">Home（グラスタの場所一覧表〜入手範囲別〜）</a></li>
    <li class="breadcrumb-item"><a href="site_create.html">個人サイト制作：サイトマップ</a></li>
    <li class="breadcrumb-item active" aria-current="page">GitHubのREADMEをPythonを使ってWebページにする</li>
   </ol>
  </div>



  <!--ハンバーガーメニュー-->
  <div class="fden-hamburger-menu">
   <button class="fden-hamburger-button" id="fden-hamburger-button" onclick="toggleMenu()">☰
    メニューを開く</button>
   <div class="fden-menu" id="fden-menu">
    <!-- メニュー内容は外部ファイルから読み込む -->
    <div id="fden-menu-content"></div>
   </div>
  </div>
  <script src="../script/menu.js"></script>
  <!--ハンバーガーメニューここまで-->

  <!--サイトタイトル-->
  <div class="header-frame">
   <div class="header-container">
    <img src="../image/cloudsitetitle.jpg" alt="Fein Atelier - org" class="header-image">
    <div class="header-text">
     <a href="https://feinatelier.org/">Fein Atelier - org</a>
    </div>
   </div>
  </div>

  <div class="spacer"></div>
  <button id="generate-headings" data-open-text="GitHubのREADMEをPythonを使ってWebページにするの目次を開く ▼"
   data-close-text="GitHubのREADMEをPythonを使ってWebページにするの目次を閉じる ▲">GitHubのREADMEをPythonを使ってWebページにするの目次を開く
   ▼</button><!--目次の自動生成-->
  <div class="spacer"></div>
  <p><a href="site_create.html">個人サイト制作：サイトマップへ戻る</a></p>

  <!-- ●人間用のヘッダーここまで。直下でコンテンツ開始● -->

  <h1 class="background-waveimage-heading"><span>GitHubのREADMEをPythonを使ってWebページにする</span></h1>
  <p>READMEを書く意義は、単なる「説明文」以上のものです。<br>
   プロジェクトの顔であり、開発者と利用者をつなぐ最初の接点になります。<br>
   コードそのものが機能を語る一方で、READMEはそのコードがどんな背景で生まれ、どんな目的を持ち、どう使われるべきかを物語る場所です。<br>
   ここに明快さや温度感があるかどうかで、プロジェクトの印象は大きく変わります。</p>

  <p>READMEが整っていると、初めて訪れた人が迷わず環境構築や利用方法に進めます。<br>
   逆にREADMEが曖昧だと、せっかくの良いコードも「使いにくい」と判断されてしまうことがあります。<br>
   つまり、READMEは技術的なハードルを下げ、参加や利用を促すための入り口なのです。<br>
   さらに、READMEは開発者自身にとっても「このプロジェクトは何を目指しているのか」を再確認する場になります。<br>
   書く過程で目的や設計思想を整理でき、チーム開発なら共通認識を築く助けにもなります。</p>

  <p>また、READMEは単なるマニュアルではなく、プロジェクトの文化や美学を伝える手段でもあります。<br>
   シンプルで読みやすい構成にするか、ユーモアを交えて親しみやすくするか、あるいは厳密に技術的なドキュメントとして仕上げるか。<br>
   選び方次第で「このプロジェクトはどんな人に向けているのか」が自然と伝わります。</p>

  <p>要するに、READMEは「コードを動かすための説明書」であると同時に「プロジェクトの理念を示す看板」でもあり、技術的な利便性と文化的な魅力を両立させる場なのです。<br>
   READMEを丁寧に書くことは、開発者自身の思考を整理し、利用者に安心感を与え、コミュニティを育てるための最初の一歩になります。</p>

  <p>私がやってるような普通のWebサイトであれば、ささっと書いて済ませても十分だという話もあるんですけどね。<br>
   これから肥大化していくことが分かっているので、やっぱちゃんと書いておいた方が良いと思っているのですよ。</p>

  <h2>でも、READMEは読まれないもんですよね…</h2>
  <p>新しい電化製品を買った時、説明書を読む人と読まない人がいますよね。<br>
   それと同じで、アプリのREADMEも読まれないことが多い…<br>
   まぁそんなもん🎵</p>

  <p>それはそれで良いと思いますし、READMEをちゃんと読むかどうかはユーザーの判断に委ねるべきでしょう。<br>
   とは言え、このサイトはそもそも個人サイト制作の初心者向けに書いたWebページも多数あるわけです。<br>
   少しでも読みやすいレイアウトで、READMEを提供したいと考えたんですよ。</p>

  <div class="content">
   <img src="/contents/itimages/githubreadme.png" alt="githubreadme" class="biggraphic fade-in-out">
  </div>

  <p>このGitHubオリジナルREADMEもカッコいいんだけど、ちょっと技術者寄りな雰囲気で、IT初心者さんには近寄りがたいと思うんです。<br>
   私だって学生時代はそう思っていました。<br>
   それどころか、READMEなんて真面目に読んだことなかったですよ。</p>

  <div class="content">
   <img src="/contents/itimages/readmecode.png" alt="readmecode" class="biggraphic fade-in-out">
  </div>

  <p>でも、こうやってMarkdown記法で書いてから、改めてHTMLにするのは私としては手間がかかり過ぎます。<br>
   そういう手間が、更新への消極性となって表面化するんだよね。<br>
   いつまでも古いREADMEでは意味がありませんし、だらしない印象を与えかねません。<br>
   手間をかけず、それでいてユーザーが読みやすい新鮮なREADMEを常に提供するにはどうすれば良いか？</p>

  <div class="content">
   <img src="/contents/itimages/readmehtml1.png" alt="readmehtml1" class="biggraphic fade-in-out">
  </div>

  <p>そこで、当サイトはPythonのFlaskフレームワークを使っているので、README.mdをサーバサイドスクリプトでHTML化して、それをWebページとして表示させるというものです。<br>
   上の画像のようになります。<br>
   GitHub Pagesを使う方法もありましたが、わざわざWebサイトを分けるより、自分が今作っている既存のサイトに表示させたほうが、私自身もアクセスしやすいです。
  </p>

  <div class="content">
   <img src="/contents/itimages/readmehtml2.png" alt="readmehtml2" class="biggraphic fade-in-out">
  </div>

  <p>要するに <a href="/readme" class="ms-link">README_GitHub</a> が何をやっているかというと、次の通りです。</p>
  <ol>
   <li>私がいつも通りREADME.mdを更新する</li>
   <li>README.mdはプロジェクトルートにあるから、そこにREADME.mdをHTMLに変換して返す機能を持たせたPythonスクリプトを置く</li>
   <li><a href="/readme" class="ms-link">README_GitHub</a>に、私が更新したREADME.mdが反映される</li>
  </ol>
  <p>そんなに複雑な仕組みじゃないです。<br>
   こうすることで、私はいつも通りREADME.mdを更新するだけで、ユーザーには読みやすいレイアウトのREADMEがリアルタイムで提供されるってことになるのですよ。<br>
   私自身も確認しやすいしね。<br>
   だって、自分が作ってるサイトに、常に最新版のREADMEが表示されているのですから。</p>

  <p>では、さっそく作り方を見ていきましょう。</p>

  <h2>Blueprintを使って分かりやすく管理する</h2>
  <p>PythonのFlaskでアプリやるなら、Blueprintは覚えたほうが良いんじゃないかなーと思います。<br>
   Blueprintを使う意味は、Flaskアプリを「ひとつの塊」としてではなく「複数のまとまり」として捉え直すところにあります。<br>
   小さなアプリなら app.py にすべてを書き込んでも動きますが、成長していくとルーティングや機能が絡み合い、保守が難しくなります。<br>
   Blueprintはそのゴチャゴチャを整理するための仕組みで、アプリをモジュールごとに分割し、再利用可能な部品として扱えるようにします。</p>

  <p>Blueprintを導入すると、ルートやビューを「この機能はこのまとまりに属する」と自然に整理できます。<br>
   ユーザー管理、ブログ記事、APIエンドポイントなどをそれぞれ独立したBlueprintに切り分ければ、コードの見通しが良くなり、チーム開発でも担当範囲を明確にできます。<br>
   さらに、Blueprintは「プラグイン的な拡張」を可能にします。<br>
   外部ライブラリや社内共通モジュールをBlueprintとして提供すれば、別のプロジェクトに簡単に組み込めるのです。</p>

  <p>もうひとつの意義は「柔軟な構成管理」です。<br>
   Blueprintはアプリ本体に登録されるまで独立して存在できるため、テスト環境や本番環境で異なる構成を選びやすくなります。<br>
   例えば管理者用のルートを特定の環境だけで有効化する、といった切り替えも容易です。</p>

  <p>つまりBlueprintは、Flaskを「小さなスクリプト」から「拡張可能なアーキテクチャ」へと進化させるための鍵というか、ポイントみたいなもんです。<br>
   コードの整理、再利用性、チーム開発の効率化、環境ごとの柔軟性――これらを同時に実現するのがBlueprintの役割です。</p>

  <h3>README.mdを表示する機能を追加する</h3>
  <p>今の私のアプリの場合、main.py はすでに Flask アプリのエントリーポイントとして動いていて、sitemap や pagelist を Blueprint で分離しています。<br>
   ここに README.md を表示する機能を追加するので、同じように Blueprint として分離するのがベストだと思いますね。</p>

  <p>こういうページを読んでいる方には不要と思われるので、main.pyは全文書きませんし、pythonに書き込まれているhtmlも説明を省略させて頂きます。</p>

  <h5>readme.py を作成</h5>
  <p>まずはプロジェクトルートに新しいファイル readme.py を置きます。<br>
   コードは次の通りです。</p>

  <div class="code-container">
   <pre><code class="feintyping language-python">
import os
import markdown
from flask import Blueprint, render_template_string

bp = Blueprint("readme", __name__)

BASE_DIR = os.path.dirname(__file__)
README_PATH = os.path.join(BASE_DIR, "README.md")

@bp.route("/readme")
def readme():
    with open(README_PATH, encoding="utf-8") as f:
        content = f.read()
    html = markdown.markdown(content)
    return render_template_string("""
    &lt;!DOCTYPE html&gt;
    &lt;html lang="ja"&gt;
    &lt;head&gt;
        &lt;meta charset="utf-8"&gt;
        &lt;title&gt;README&lt;/title&gt;
        &lt;link rel="stylesheet" href="/static/css/style.css"&gt;
    &lt;/head&gt;
    &lt;body&gt;
        {{ html|safe }}
    &lt;/body&gt;
    &lt;/html&gt;
    """, html=html)
    </code></pre>
  </div>

  <p>このコード全体の役割は「README.mdをMarkdownからHTMLに変換し、Flaskアプリの /readme ページで表示する」ことです。<br>
   Blueprintを使っているので、アプリ本体とは独立したモジュールとして管理でき、拡張性や保守性が高まります。</p>

  <dl>
   <dt><span class="codecolor">import os</span></dt>
   <dd>標準ライブラリの <span class="codecolor">os</span> モジュールを読み込みます。ファイルパスの操作やディレクトリの取得など、OS依存の処理を行うために使います。</dd>

   <dt><span class="codecolor">import markdown</span></dt>
   <dd>Markdown形式のテキストをHTMLに変換するための外部ライブラリを読み込みます。README.mdの内容をWebページで表示する際に利用します。</dd>

   <dt><span class="codecolor">from flask import Blueprint, render_template_string</span></dt>
   <dd>Flaskから <span class="codecolor">Blueprint</span> と <span class="codecolor">render_template_string</span>
    をインポートします。</dd>
   <dd>・<span class="codecolor">Blueprint</span> はアプリをモジュール化して管理する仕組み。</dd>
   <dd>・<span class="codecolor">render_template_string</span> は文字列として渡されたテンプレートを直接レンダリングする関数です。</dd>

   <dt><span class="codecolor">bp = Blueprint("readme", __name__)</span></dt>
   <dd>"readme" という名前のBlueprintを作成します。これにより、このモジュール内のルートをアプリ本体に登録できるようになります。</dd>

   <dt><span class="codecolor">BASE_DIR = os.path.dirname(__file__)</span></dt>
   <dd>現在のファイルが存在するディレクトリのパスを取得します。README.mdの場所を特定するための基準となります。</dd>

   <dt><span class="codecolor">README_PATH = os.path.join(BASE_DIR, "README.md")</span></dt>
   <dd>上で取得したディレクトリに "README.md" を結合し、READMEファイルの絶対パスを生成します。</dd>

   <dt><span class="codecolor">@bp.route("/readme")</span></dt>
   <dd>Blueprintに <span class="codecolor">/readme</span> というURLパスを登録します。このURLにアクセスすると、次の関数が呼び出されます。</dd>

   <dt><span class="codecolor">def readme():</span></dt>
   <dd><span class="codecolor">/readme</span> にアクセスした際に実行されるビュー関数を定義します。</dd>

   <dt><span class="codecolor">with open(README_PATH, encoding="utf-8") as f:</span></dt>
   <dd>README.mdファイルをUTF-8で開きます。<span class="codecolor">with</span> 構文を使うことで、処理終了後に自動的にファイルが閉じられます。</dd>

   <dt><span class="codecolor">content = f.read()</span></dt>
   <dd>ファイルの中身をすべて読み込み、文字列として <span class="codecolor">content</span> に格納します。</dd>

   <dt><span class="codecolor">html = markdown.markdown(content)</span></dt>
   <dd>読み込んだMarkdown文字列をHTMLに変換し、<span class="codecolor">html</span> に格納します。</dd>

   <dt><span class="codecolor">return render_template_string(""" ... """, html=html)</span></dt>
   <dd>文字列として書かれたHTMLテンプレートをレンダリングし、変換済みのMarkdown（<span class="codecolor">html</span>）を埋め込みます。<span class="codecolor">{{
     html|safe }}</span> によって、HTMLがエスケープされずにそのまま表示されます。</dd>
  </dl>


  <h5>main.py に追記</h5>
  <p>既存の main.py に以下のコードを追加します。</p>

  <div class="code-container">
   <pre><code class="feintyping language-python">
from readme import bp as readme_bp   #
app.register_blueprint(readme_bp)    #
    </code></pre>
  </div>

  <p>main.py はアプリの起動と Blueprint の登録だけに集中させ、readme.py は README.md を HTML に変換して返す機能だけを持たせるようにします。<br>
   こうすることで main.py が肥大化せず、機能ごとに整理された構成になります。<br>
   この構成であれば、https://feinatelier.org/readme にアクセスすると常に最新の README.md がレンダリングされるってことですね。</p>

  <h3>requirements.txtにMarkdownを記述する</h3>
  <p>requirements.txt は Python プロジェクトで利用するライブラリとそのバージョンを記録するためのファイルであり、開発者が同じ環境を再現できるようにする役割を持っています。<br>
   チーム開発やデプロイの際に環境の違いによる不具合を防ぎ、安定した動作を保証することができます。</p>

  <p>Markdown==3.5.1 という記述は、Python のパッケージ管理において「Markdown」というライブラリをインストールすること、そしてそのバージョンを 3.5.1 に固定することを意味します。<br>
   これは、プロジェクトが必ずそのバージョンの Markdown ライブラリを利用するように指定する宣言であり、環境の再現性や安定した動作を保証するために用いられます。</p>

  <p>requirements.txtは次のように記述し、プロジェクトルートに置きましょう。</p>

  <div class="code-container">
   <pre><code class="feintyping language-txt">
Markdown==3.5.1
Flask==3.0.0
gunicorn==21.2.0
    </code></pre>
  </div>

  <p>環境構築時に以下をコマンド実行します。</p>

  <div class="code-container">
   <pre><code class="feintyping language-bash">
pip install -r requirements.txt
    </code></pre>
  </div>

  <p>これで記載されたライブラリが一括でインストールされます。</p>

  <p>なぜバージョンを固定するのかというと、ライブラリは更新されると挙動が変わることがあり、予期せぬ不具合を引き起こす可能性があるからです。<br>
   バージョンを固定しておけば「昨日は動いたのに今日は動かない」といった事故を防ぐことができます。<br>
   特に Flask アプリのようにデプロイ環境で運用する場合には、安定したバージョンを指定しておくことが基本となります。</p>

  <p>このサイト（Flask + App Engine）の場合、デプロイ時に pip install -r requirements.txt が走るので、ここに書いてある内容がそのまま本番環境のライブラリ構成になります。</p>






  <!-- ●ここから人間用のフッター● -->
  <hr id="feinhr">
  <div class="spacer"></div>

  <section class="sitemap">
   <h2 class="sitemap_heading">サイトマップ</h2>
   <p><a href="/pages/pagelist">全ページをリスト化したサイトマップ</a>も用意していますが、けっこうなページ数があります。<br>
    下記の「カテゴリー分けサイトマップ」のほうが使いやすいでしょう。</p>
   <p><a href="/another-eden/anaden_sitemap.html">
     アナザーエデン関連ページ・サイトマップ</a><br>
    アナザーエデンの強敵戦やストーリーコンテンツのリスト、お勧めバッジなどを掲載したコーナーです。<br>
    期間限定のない普通のRPGですので、初心者でも安心して続けていけるゲームとなっています。<br>
    もっとも重要なグラスタについては、場所別に網羅した表があります。</p>


   <p><a href="/contents/site_create.html">
     個人サイトのホスティングとコンテンツ作成</a><br>
    個人でウェブサイトを作るなら時間をかけて。<br>
    HTML・CSS・JavaScriptの書き方はもちろん、無料かつ広告なしでホームページを作る方法を掲載したコーナーです。<br>
    Webデザインやレイアウトについても書いてあります。</p>
   <p><a href="/fish/fish_sitemap.html">魚釣りなどアウトドアのエリア</a><br>
    ゲームとパソコンだけじゃなく、アウトドアも趣味なんです。<br>
    このコーナーでは魚釣りの記録とか、魚料理のレシピ、はたまたサイクリングなどなど。<br>
    アウトドアに関連するコンテンツが詰め込まれています。</p>

  </section>

  <!-- ページ上部へ戻るボタン -->
  <button id="scrollToTopBtn" onclick="scrollToTop()">ページ上部へ戻る</button>
  <script src="/script/feinScroll.js"></script>

  <div class="spacer"></div>

  <footer>
   <!--common google digital leader-->

   <div id="commongdl"></div>
   <script src="/externalization/common.js"></script>

   <div class="spacer"></div>


   <div class="spacer"></div>
   <p class="portal" id="updated-date">この <a href="https://feinatelier.org/">fein's personal
     site</a> は、2023/7/4に開設された <a href="https://portal.feinatelier.org/">fein's portal</a>
    を母体として、yyyy/mm/ddに至るまで更新し続けられています。</p>
   <script>
    document.addEventListener('DOMContentLoaded', function () {
     const today = new Date();
     const year = today.getFullYear();
     const month = String(today.getMonth() + 1).padStart(2, '0');
     const day = String(today.getDate()).padStart(2, '0');
     const dateElement = document.getElementById('updated-date');
     dateElement.innerHTML = `この <a href="https://feinatelier.org/">Fein Atelier - org</a> は、2023/7/4に開設された <a href="https://portal.feinatelier.org/">fein's portal</a> を母体として、${year}/${month}/${day}に至るまで更新し続けられています。`;
    });
   </script>

  </footer>

 </div><!--レスポンシブデザイン-->

 <script src="/script/feinheadline1.js"></script><!--見出しの自動生成-->

 <!-- ●ここまで人間用のフッター。直下でbodyを閉める● -->
</body>

</html>
