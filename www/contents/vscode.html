<!DOCTYPE html>
<!-- ●ここから人間用のヘッダー● -->
<html lang="ja">

<head>
 <meta charset="UTF-8">
 <title>Visual Studio Codeを触ってみよう</title>
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <meta name="description" content="Visual Studio Codeについて、基本的な扱い方を書いています。">
 <meta name="keywords" content="個人サイト, Visual Studio Code, VS Code">
 <meta name="robots" content="index, follow">
 <meta property="og:title" content="Visual Studio Codeを触ってみよう">
 <meta property="og:description" content="Visual Studio Codeについて、基本的な扱い方を書いています">
 <meta property="og:image" content="../image/アナザーエデンのバディ_ピスケ.png">
 <meta property="og:url" content="https://feinatelier.org/contents/vscode.html">
 <link rel="manifest" href="/manifest.json">

 <!-- 構造化データ -->
 <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Visual Studio Codeを触ってみよう",
      "url": "https://feinatelier.org/contents/vscode.html",
      "logo": "https://feinatelier.org/image/barracuda.jpeg"
    }
    </script>

 <!-- CSSファイル -->
 <link rel="stylesheet" type="text/css" href="/css/style.css">
 <link rel="stylesheet" type="text/css" href="/css/header.css">
 <link rel="stylesheet" type="text/css" href="/css/footer.css">
 <link rel="stylesheet" type="text/css" href="/css/menu.css">
 <link rel="stylesheet" type="text/css" href="/css/flower.css">
 <link rel="stylesheet" type="text/css" href="/css/feinpan.css">
 <link rel="stylesheet" type="text/css" href="/css/feinheadline1.css">
 <link rel="stylesheet" type="text/css" href="/css/album.css">

 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-tomorrow.min.css">
 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
 <link
  href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900&display=swap"
  rel="stylesheet">
 <link rel="apple-touch-icon" sizes="180x180" href="/icons/appleicon.png">
 <link rel="icon" sizes="32x32" href="/favicon.ico" type="image/x-icon">

 <!-- Googleタグマネージャー -->
 <script async src="https://www.googletagmanager.com/gtag/js?id=G-827JM6N5CS"></script>
 <script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'G-827JM6N5CS');
 </script>

 <!-- Microsoftタグ -->
 <script>
  (function (c, l, a, r, i, t, y) {
   c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) };
   t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
   y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
  })(window, document, "clarity", "script", "obazqypsh8");
 </script>

 <!-- JavaScriptファイル -->
 <script src="/script/underline.js"></script>
 <script src="/script/feinfade.js"></script>
 <script src="/script/album.js"></script>
 <script src="/script/feinScroll.js"></script>
 <script src="/script/brython.js"></script>
 <script src="/script/brython_stdlib.js"></script>

 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-bash.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-json.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-python.min.js"></script>

 <!-- Service Workerの登録 -->
 <script>
  if ('serviceWorker' in navigator) {
   navigator.serviceWorker.register('/service-worker.js')
    .then(registration => {
     console.log('ServiceWorker registration successful with scope: ', registration.scope);
    })
    .catch(error => {
     console.log('ServiceWorker registration failed: ', error);
    });
  }
 </script>
</head>

<body>

 <nav class="den_nav">
  <ul>
   <li><a href="https://feinatelier.org/"><img src="/menu/mspass.webp" alt="このサイトのシンボルマーク" class="feinhome"></a></li>
   <li><a href="/" class="animated-link">ホーム</a></li>
   <li><a href="/another-eden/anaden_sitemap.html" class="animated-link">アナザーエデン</a></li>
   <li><a href="/fish/fish_sitemap.html" class="animated-link">アウトドアのエリア</a></li>
   <li><a href="/contents/site_create.html" class="animated-link">個人サイト制作</a></li>
   <li><a href="/contents/protect.html" class="animated-link">AI学習を防ぐ工夫</a></li>
   <li><a href="/contents/rss.html" class="animated-link">更新のお知らせ</a></li>
  </ul>
 </nav>

 <!--レスポンシブデザイン-->
 <div class="feincontainer">


  <!--パンくずリスト-->
  <div>
   <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/">Home（グラスタの場所一覧表〜入手範囲別〜）</a></li>
    <li class="breadcrumb-item"><a href="site_create.html">個人サイト制作：サイトマップ</a></li>
    <li class="breadcrumb-item active" aria-current="page">Visual Studio Codeを触ってみよう</li>
   </ol>
  </div>

  <!--google検索-->


  <!-- ハンバーガーメニュー -->
  <div class="fden-hamburger-menu">
   <button class="fden-hamburger-button" id="fden-hamburger-button" onclick="toggleMenu()">☰ メニューを開く
    ▼</button>
   <div class="fden-menu" id="fden-menu">
    <!-- メニュー内容は外部ファイルから読み込む -->
    <div id="fden-menu-content"></div>
   </div>
  </div>
  <script src="../script/menu.js"></script>
  <!-- ハンバーガーメニューここまで -->

  <!--サイトタイトル-->
  <div class="header-frame">
   <div class="header-container">
    <img src="../image/cloudsitetitle.jpg" alt="Fein Atelier - org" class="header-image">
    <div class="header-text">
     <a href="https://feinatelier.org/">Fein Atelier - org</a>
    </div>
   </div>
  </div>

  <div class="spacer"></div>
  <button id="generate-headings" data-open-text="Visual Studio Codeを触ってみようの目次を開く ▼"
   data-close-text="Visual Studio Codeを触ってみようの目次を閉じる ▲">Visual Studio Codeを触ってみようの目次を開く
   ▼</button><!--目次の自動生成-->
  <div class="spacer"></div>
  <p><a href="site_create.html">個人サイト制作：サイトマップへ戻る</a></p>

  <!-- ●人間用のヘッダーここまで。直下でコンテンツ開始● -->

  <h1 class="background-waveimage-heading"><span>Visual Studio Codeを触ってみよう</span></h1>

  <div class="flowerclearfix">
   <div class="flowerfade-out">
    <img src="/flower3/flower3(74).JPG" alt="フェードアウト効果の草花写真">
   </div>
   <p>Web制作の専用ソフトウェアなら、開発者向けの多機能なコードエディターであるVisual Studio Codeがお勧めですよ。<br>
    イラストレーターが Photoshop や Illustrator を使っているのと同じ感じです。<br>
    Visual Studio Code（VS Code）はMicrosoftが開発した軽量なコードエディタで、さまざまな拡張機能を追加してカスタマイズすることができます。<br>
    そして無料なんですよ。ここ大切です。</p>
  </div>

  <h2>Live ServerでCSSやJavaScriptが反映されない</h2>
  <div class="flowerclearfix">
   <div class="flowerfade-out">
    <img src="/flower3/flower3(75).JPG" alt="フェードアウト効果の草花写真">
   </div>
   <p>Webサイト制作でお決まりの手順って、次のような感じかと？</p>
   <ol>
    <li>コード編集</li>
    <li>htmlやcss、JavaScriptを上書き保存</li>
    <li>ブラウザをスーパーリロード</li>
    <li>結果を見てまた修正</li>
   </ol>
   <p>この3の部分が面倒なんですよね…いちいちShift+F5するのかよって…<br>
    そこを解決してくれるのがVSCodeの拡張機能「Live Server」です。</p>
   <p>VSCodeに限らず普段からコードエディターを触っている人なら、拡張機能のインストールは大丈夫かと。<br>
    分かりにくいだろうと推測できる部分としては、Live Serverを使ってもCSSやJavaScriptが反映しないというトラブル。<br>
    けっこうお悩みの方が多かった印象です。<br>
    これはVSCodeで開くフォルダーに注意すると簡単に解決します。</p>
  </div>

  <h3 ID="vscode_liveserver">Live Serverではドキュメントルートを開く</h3>
  <div class="flowerclearfix">
   <div class="flowerfade-out">
    <img src="/flower3/flower3(76).JPG" alt="フェードアウト効果の草花写真">
   </div>
   <p>ドキュメントルート (Document Root) とは、ウェブサーバーが公開するファイルが置かれるディレクトリのことです。<br>
    このディレクトリ内に置かれたファイルが、Webブラウザからアクセス可能になります。</p>

   <p>Live Serverはローカルサーバーを起動する拡張機能なのですが、これのドキュメントルートはVSCodeの「フォルダーを開く」で指定したフォルダーです。<br>
    このフォルダーを間違えると、Live Serverは正常に動作しません。<br>
    制作中のWebサイトをLive Serverでチェックしていきたい場合、おそらく特定のhtmlファイルというよりはWebサイト全体を行き来すると思います。<br>
    この場合、Webサイトが入っているフォルダを、VSCodeで開くと良いです。<br>
    index.htmlやtop.htmlが入っているフォルダを開くということです。<br>
    そうすればWebサイトを構成するCSSやJavaScript全体にLive Serverがアクセスできて、まともに表示されるようになるはずです。<br>
    要するにWebサイトを格納しているてっぺんのフォルダをVSCodeで開きましょうという。<br>
    ちなみにLive Serverを止めるにはコマンドパレットからLive Preview: Stop Serverと入力します。</p>
  </div>

  <h3 id="vscode_browserlite">VSCodeの拡張機能「Browser Lite」</h3>
  <p>単純に、VSCodeから外部に出ることなく簡単なブラウジングをしたいときに便利です。<br>
   拡張機能をインストールしてからコマンドパレットで Browse Lite: Open... と入力すれば、ブラウザーが出てきます。</p>

  <h4>Visual Studio Codeのショートカットキー</h4>
  <p>極める必要もないけど、まずはエクスプローラーを開閉する<strong>Ctrl + B</strong>は覚えておいた方が良いよね。<br>
   ずっと左側にエクスプローラーが開いてるとコード記述画面を広く使えないから、こまめにCtrl + Bを使ってエクスプローラーを開閉しています。<br>
   他には、次のようなショートカットキーを頻用しています。</p>

  <div class="atelier-container">
   <div class="atelier-tabs">
    <div class="atelier-tab" data-tab="1">basic</div>
    <div class="atelier-tab" data-tab="2">terminal</div>
    <div class="atelier-tab" data-tab="3">Extensions</div>
   </div>
   <div class="atelier-tab-content" data-content="1">
    <dl>
     <dt>エクスプローラーを開く / 閉じる</dt>
     <dd>Ctrl + B</dd>

     <dt>フォルダ間を移動</dt>
     <dd>↑ / ↓ キーでフォルダやファイル間を上下に移動します。</dd>
     <dd>→ キーでフォルダを展開します。</dd>
     <dd>← キーでフォルダを縮小します。</dd>

     <dt>フォルダやファイルを開く</dt>
     <dd>Enter キーで選択したフォルダやファイルを開きます。</dd>

     <dt>検索バーにフォーカス</dt>
     <dd>Ctrl + P</dd>
     <dd>検索バーにキーワードを入力してファイルやフォルダを検索し、目的のアイテムを素早く見つけることができます。</dd>

     <dt>コマンドパレットを開く</dt>
     <dd>Ctrl + Shift + P</dd>
     <dd>コマンドパレットから特定のコマンドやアクションを検索し、実行することができます。</dd>
     <dt>次のタブに移動</dt>
     <dd>Ctrl + Tab</dd>
     <dt>前のタブに移動</dt>
     <dd>Ctrl + Shift + Tab</dd>
     <dt>タブを閉じる</dt>
     <dd>Ctrl + W</dd>
     <dt>インデントの追加</dt>
     <dd>範囲を指定してから「tab」</dd>
     <dt>インデントの除去</dt>
     <dd>範囲を指定してから「shift+tab」</dd>
    </dl>
   </div>
   <div class="atelier-tab-content" data-content="2">

    <dl>
     <dt>統合ターミナルを開く</dt>
     <dd>Ctrl + `（バッククオート）</dd>
     <dt>新しいターミナルを作成</dt>
     <dd>Ctrl + Shift + `（バッククオート）</dd>
    </dl>

    <dl>
     <dt>タスクランナーの実行</dt>
     <dd>Ctrl + Shift + B</dd>
     <dt>タスクの実行</dt>
     <dd>Ctrl + Shift + P (コマンドパレット) からTask: Run Task</dd>
    </dl>

   </div>

   <div class="atelier-tab-content" data-content="3">

    <dl>
     <dt>Live Serverを止める</dt>
     <dd>Ctrl + Shift + P (コマンドパレット) からLive Preview: Stop Server</dd>
     <dt>Browser Liteを開く</dt>
     <dd>Ctrl + Shift + P (コマンドパレット) からBrowse Lite: Open...</dd>
    </dl>

   </div>
  </div>

  <script type="text/python">
from browser import document, timer

def show_tab(event):
    container = event.target.closest('.atelier-container')
    tabs = container.select('.atelier-tab')
    contents = container.select('.atelier-tab-content')

    for tab in tabs:
        tab.classList.remove('atelier-active-tab')
    for content in contents:
        content.classList.remove('atelier-active-content')
        content.style.transition = 'transform 1s ease-in-out, opacity 1s ease-in-out'
        content.style.transform = 'translateX(-100%)'
        content.style.opacity = '0'
        content.style.visibility = 'hidden'

    event.target.classList.add('atelier-active-tab')
    tab_id = event.target.getAttribute('data-tab')
    active_content = container.select(f'[data-content="{tab_id}"]')[0]
    active_content.classList.add('atelier-active-content')

    def show_content():
        active_content.style.visibility = 'visible'
        active_content.style.opacity = '1'
        active_content.style.transform = 'translateX(0)'

    timer.set_timeout(show_content, 50)

for container in document.select('.atelier-container'):
    tabs = container.select('.atelier-tab')
    if tabs:
        tabs[0].classList.add('atelier-active-tab')
        container.select('.atelier-tab-content')[0].classList.add('atelier-active-content')
        for tab in tabs:
            tab.bind('click', show_tab)
    </script>

  <script>
   window.addEventListener('load', () => {
    brython({ debug: 1, selector: ".atelier-container" });
   });
  </script>

  <hr class="atelierflower">

  <h2>W3C Web Validatorでミスを防ぐ</h2>
  <p>意外とやりがちなのが、htmlコードの初歩的なミスです。<br>
   タグを閉じ忘れたり、余計なタグを入れていたり。<br>
   完璧にやるのは難しいですが、少しでもラクになるように工夫すると良いかも。<br>
   次の画像はhtmlコードでミスをしていて、W3C Web Validatorから指摘を受けているシーンです。</p>
  <div class="content">
   <img src="/contents/itimages/W3CWebValidator.png" alt="W3C Web Validator" class="biggraphic fade-in-out">

  </div>
  <p>pタグの閉じる部分にppと書いてしまっています。<br>
   これを修正すれば、下部のパネルに「ワークスペースで問題は検出されていません。」と表示されます。</p>

  <p>W3C Web ValidatorはVS Codeの拡張機能で、htmlのミスを検出してくれるんですよね。<br>
   インストールすればステータスバーに W3C validation と出てくるので、それをクリックすればチェックしてくれます。<br>
   いくらプログラムを修正してもまともに動作しないときは、意外にもhtmlを書き間違えていたりするものですよ？<br>
   慣れてきた上級者ほどハマりやすいと思うから、何度でも基礎に帰るのをお勧めします。</p>

  <h2>Visual Studio Codeの日本語化</h2>
  <p>左側の「Extensions」から「Japanese Language Pack for VS Code」をインストールしてVS Codeを再起動します。</p>

  <img src="/contents/itimages/vscode日本語化.png" alt="vscodeの日本語化" class="biggraphic fade-in-out">

  <p>Microsoft公式から出ている拡張機能ですから、安心して使えますね。</p>

  <h4>VS Codeのsettings.json</h4>
  <p>次にあるコードはVisual Studio Codeのsetting.jsonです。<br>
   快適に効率よく作業できるので、とっても重要だと思います。</p>

  <p class="codegra" id="settings_json">settings.jsonのコード例</p>
  <div class="code-container">
   <pre><code class="feintyping language-json">
{
  // 拡張機能の推奨を無視する
  "extensions.ignoreRecommendations": true,

  // エディタのフォントファミリーを設定する
  "editor.fontFamily": "'Yu Gothic UI', 'Courier New', monospace",

  // この設定をすべてのプロファイルに適用する
  "workbench.settings.applyToAllProfiles": [
    "editor.fontFamily"
  ],

  // フォントの合字機能を無効にする
  "editor.fontLigatures": false,

  // エディタのワードラップをオンにする
  "editor.wordWrap": "on",

  // ファイルの最後に自動的に改行を追加する
  "files.insertFinalNewline": true,

  // ファイルの保存時にフォーマットを実行する
  "editor.formatOnSave": true,

  // ファイルの最後の不要な改行をトリム（削除）する
  "files.trimFinalNewlines": true,

  // 行末の空白をトリム（削除）する
  "files.trimTrailingWhitespace": true,

  // パスのナビゲーション機能を有効にする
  "breadcrumbs.enabled": true,

  // ツリービューのインデントガイドを常に表示する
  "workbench.tree.renderIndentGuides": "always",

  // タブのサイズを1に設定する
  "editor.tabSize": 1,

  // タブをスペースに変換する
  "editor.insertSpaces": true,

  // 自動インデントを無効にする
  "editor.autoIndent": "none",

  // インデントの検出を無効にする
  "editor.detectIndentation": false,

  // フルスクリーン時の背景画像設定
  "background.fullscreen": {
    "images": [
      "file:///C:/Users/ユーザー名/OneDrive/_fein/reisalinstout.jpg"  // 表示する画像のパス
    ],
    "opacity": 0.1,  // 画像の透明度
    "size": "900 900",  // 画像のサイズ
    "position": "center",  // 画像の位置
    "interval": 0  // 画像の変更間隔（0で固定）
  },

  // ターミナルのフォントファミリーを設定する
  "terminal.integrated.fontFamily": "monospace",

  // 親フォルダにあるリポジトリを開かないようにする
  "git.openRepositoryInParentFolders": "never",

  // VSCodeのエッジデベロッパーツールの通知を有効にする
  "vscode-edge-devtools.webhintInstallNotification": true,

  // ターミナルのフォントサイズを設定する
  "terminal.integrated.fontSize": 14,

  // Windowsで使用するデフォルトのターミナルプロファイルを設定する（Command Prompt）
  "terminal.integrated.defaultProfile.windows": "Command Prompt"
}

</code></pre>
  </div>

  <p>Windowsのメモ帳は快適に動作するのですが、シンタックスハイライトがないんですよねー。</p>

  <img src="/contents/itimages/notepad.png" alt="Windowsのメモ帳" class="graphic fade-in-out">

  <p>VS Codeのようにシンタックスハイライトをしてくれれば、メモ帳は完璧だったと思います。<br>
   普段は下記のようにコメントも外してるけどね。</p>

  <p class="codegra">settings.jsonのまとまったコード</p>
  <div class="code-container">
   <pre><code class="feintyping language-json">
{
 "extensions.ignoreRecommendations": true,
 "editor.fontFamily": "'Yu Gothic UI', 'Courier New', monospace",
 "workbench.settings.applyToAllProfiles": [
  "editor.fontFamily"
 ],
 "editor.fontLigatures": false,
 "editor.wordWrap": "on",
 "files.insertFinalNewline": true,
 "editor.formatOnSave": true,
 "files.trimFinalNewlines": true,
 "files.trimTrailingWhitespace": true,
 "breadcrumbs.enabled": true,
 "workbench.tree.renderIndentGuides": "always",
 "editor.tabSize": 1,
 "editor.insertSpaces": true,
 "editor.autoIndent": "none",
 "editor.detectIndentation": false,
 "background.fullscreen": {
  "images": [
   "file:///C:/Users/ユーザー名/OneDrive/_fein/asnekoko.jpg"
  ],
  "opacity": 0.1,
  "size": "contain",
  "position": "center",
  "interval": 0
 },
 "terminal.integrated.fontFamily": "monospace",
 "git.openRepositoryInParentFolders": "never",
 "vscode-edge-devtools.webhintInstallNotification": true,
 "terminal.integrated.fontSize": 14,
 "terminal.integrated.defaultProfile.windows": "Command Prompt",
 "explorer.confirmDelete": false,
}

</code></pre>
  </div>

  <p>こんな感じかなぁ。</p>

  <h2>VS Codeのターミナル機能</h2>
  <p>ステータスバーを上に持ち上げるとターミナルまで出てきます。<br>
   ちょっとしたコマンドプロンプトの作業であれば、ここでいつも済ませてますね。<br>
   例えばここで python main.py と入力すれば、そのままpythonコードを実行することができるわけですよ。<br>
   そういう意味でも、コマンドラインはある程度扱えると便利かと思います。</p>

  <img src="/contents/itimages/vscodeコマンドプロンプト.png" alt="vscode内蔵のコマンドプロンプト" class="biggraphic fade-in-out">

  <h2>VS Codeのタスクランナーを使う</h2>
  <p>例えば私の場合、Google App Engineにデプロイする際にコマンドプロンプトで<span class="codecolor">"C:\Users\ユーザー名\AppData\Local\Google\Cloud
    SDK\cloud_env.bat"</span>をして Google Cloud SDK Shell を開きます。<br>
   それから Google Cloud SDK Shell で、
   <span class="codecolor">cd C:\Users\ユーザー名\OneDrive\_fein\google cloud\fein-sites-dev1</span>とやってからデプロイする…<br>
   この流れが基本ではあるのですが、ちょっとめんどくさい。<br>
   でもVS Codeから出たくない😆ww<br>
   そういう場合、VS Codeのタスクランナーを使ったり、後述するタスクの実行からデプロイします。
  </p>

  <h4>タスクランナーの設定手順</h4>

  <ol>
   <li>メニューのターミナル</li>
   <li>タスクの構成</li>
   <li>テンプレートからtasks.jsonを生成</li>
   <li>Others 任意の外部コマンドを実行する例</li>
  </ol>

  <p>これでtasks.jsonが生成されます。<br>
   プロジェクトのルートディレクトリに.vscodeディレクトリが作成され、その下にtasks.jsonが生成されます。<br>
   このtasks.jsonを、次のように書き換えます。</p>

  <p class="codegra" id="tasks_json">tasks.jsonのコード例</p>
  <div class="code-container">
   <pre><code class="feintyping language-json">
{
  // タスクのバージョン
  "version": "2.0.0",
  // 実行するタスクのリスト
  "tasks": [
    {
      // タスクのラベル（名前）
      "label": "Run Google Cloud Commands",
      // タスクのタイプ（シェルコマンドを使用）
      "type": "shell",
      // 使用するコマンド
      "command": "cmd",
      // コマンドの引数リスト
      "args": [
        // バッチファイルを実行し、ディレクトリを移動し、インタラクティブなシェルを開始
        "/c",
        "\"\"C:\\Users\\ユーザー名\\AppData\\Local\\Google\\Cloud SDK\\cloud_env.bat\" && cd \"C:\\Users\\ユーザー名\\OneDrive\\_fein\\google cloud\\fein-sites-dev1\" && cmd\""
      ],
      // 問題のマッチャー（なし）
      "problemMatcher": [],
      // タスクのグループ設定（ビルドタスクとして設定し、デフォルトタスクにする）
      "group": {
        "kind": "build",
        "isDefault": true
      }
    }
  ]
}

</code></pre>
  </div>

  <p>このタイプの作業自動化であれば、ターミナルプロファイルを使う手もあるんです。<br>
   でも環境やVSCodeのバージョンによって動作が異なる可能性があるし、他のプロファイルや設定と競合するかもしれません。<br>
   予期しない動作を引き起こすと面倒なので、私ならこうするっていう設定例ですね。<br>
   ちなみにタスクランナーはVS Codeの公式ドキュメントに基づいた機能であり、多くの開発者に利用されています。<br>
   んでもって、いろいろ機能追加してまとめあげたのがこれ。<br>
   Flaskアプリ起動とブラウザを開くように設定してたりする。</p>

  <p class="codegra">tasks.jsonのまとまったコード</p>
  <div class="code-container">
   <pre><code class="feintyping language-json">
{
 "version": "2.0.0",
 "tasks": [
  {
   "label": "Google Cloud SDK Shell を起動",
   "type": "shell",
   "command": "cmd",
   "args": [
    "/c",
    "\"\"C:\\Users\\ユーザー名\\AppData\\Local\\Google\\Cloud SDK\\cloud_env.bat\" && cd \"C:\\Users\\ユーザー名\\OneDrive\\_fein\\google cloud\\fein-sites-dev1\" && cmd\""
   ],
   "problemMatcher": [],
   "group": {
    "kind": "build",
    "isDefault": true
   }
  },
  {
   "label": "Flaskアプリを起動",
   "type": "shell",
   "command": "cmd",
   "args": [
    "/C",
    "\"cd C:\\Users\\ユーザー名\\OneDrive\\_fein\\google cloud\\fein-sites-dev1 && set FLASK_APP=main.py && set FLASK_ENV=development && set FLASK_DEBUG=1 && flask run\""
   ],
   "isBackground": true,
   "problemMatcher": [
    {
     "pattern": [
      {
       "regexp": ".",
       "file": 1,
       "location": 2,
       "message": 3
      }
     ],
     "background": {
      "activeOnStart": true,
      "beginsPattern": ".",
      "endsPattern": "."
     }
    }
   ],
   "presentation": {
    "echo": true,
    "reveal": "always",
    "focus": true,
    "panel": "dedicated"
   }
  },
  {
   "label": "ブラウザを開く",
   "type": "shell",
   "command": "cmd",
   "args": [
    "/C",
    "timeout /T 5 & start msedge \"http://127.0.0.1:5000/\""
   ],
   "presentation": {
    "echo": false,
    "reveal": "never",
    "focus": false,
    "panel": "shared"
   }
  },
  {
   "label": "Flaskアプリ起動とブラウザを開く",
   "dependsOn": [
    "Flaskアプリを起動",
    "ブラウザを開く"
   ],
   "problemMatcher": [],
   "presentation": {
    "echo": false,
    "reveal": "never",
    "focus": false,
    "panel": "shared"
   }
  }
 ]
}

</code></pre>
  </div>

  <p>VS Codeはほんと何でもできるよね。</p>

  <h2>VS Codeのワークスペースを使った環境構築</h2>
  <p>Visual Studio Code（VS Code）のワークスペースはプロジェクトを効率的に管理し、複数のフォルダや設定を統合するための概念です。<br>
   ワークスペースを利用することで、プロジェクトの異なる部分を一元的に扱うことができます。</p>

  <dl>
   <dt>複数のフォルダの管理：</dt>
   <dd>ワークスペースは、一つのプロジェクトに関連する複数のフォルダを開いて管理できます。<br>
    異なるディレクトリに保存されているプロジェクトファイルを一括で操作できます。</dd>

   <dt>個別の設定：</dt>
   <dd>ワークスペースごとに独自の設定（エディタの設定、タスク、拡張機能の設定など）を持つことができます。<br>
    プロジェクトに特化した設定を適用できます。</dd>

   <dt>ワークスペース構成ファイル：</dt>
   <dd>.code-workspace ファイルとして保存されるワークスペース設定ファイルがあります。<br>
    このファイルでフォルダのパス、設定、タスクなどが定義します。</dd>
  </dl>

  <p> 例えば私の場合、次のような環境となっています。<br>
   C:\Users\ユーザー名\OneDrive\_fein\google cloud\fein-sites-dev1\www<br>
   この直下にindex.html（いわゆるトップページ）があります。<br>
   C:\Users\ユーザー名\OneDrive\_fein\google cloud\fein-sites-dev1<br>
   この直下にwwwフォルダとapp.yamlがあります。</p>

  <p>この場合、wwwフォルダはウェブサイトのルートディレクトリとして機能します。<br>
   ここには index.html があり、これはウェブサイトのトップページです。<br>
   fein-sites-dev1フォルダは、Google App Engineのルートディレクトリとして機能します。<br>
   このフォルダには www フォルダと app.yaml ファイルが含まれています。<br>
   app.yaml は、App Engineの設定ファイルであり、デプロイ時にApp Engineに対してこのディレクトリがルートディレクトリであることを示します。<br>
   これでwwwフォルダ内のウェブコンテンツを正しくサーブでき、fein-sites-dev1フォルダはApp Engine環境の設定として機能するという仕組みです。</p>

  <p>次のjsonファイルは、私のワークスペースの基礎的な設定です。</p>

  <p class="gra">.code-workspaceファイルの例</p>
  <div class="code-container">
   <pre><code class="feintyping language-json">
{
 "folders": [
  {
      "path": "../../fein-sites-dev1/www"
  },
  {
      "path": "../.."
  }
 ],
 "settings": {
  "editor.tabSize": 2,
  "editor.formatOnSave": true,
  "editor.wordWrap": "on",
  "files.exclude": {
   "**/.git": true,
   "**/.DS_Store": true,
   "**/node_modules": true
  },
  "files.autoSave": "afterDelay",
  "terminal.integrated.defaultProfile.windows": "Command Prompt",
  "extensions.ignoreRecommendations": false,
  "workbench.colorTheme": "Visual Studio Dark",
  "window.zoomLevel": 1
 }
}

</code></pre>
  </div>

  <p>settingsの部分は柔軟に変えていくけどね。<br>
   "path": "../../fein-sites-dev1/www" というパスは、現在の .code-workspace ファイルの場所から相対的に指定されています。<br>
   "path": "../.." も同じく相対パスで指定されています。<br>
   このパスは現在の .code-workspace ファイルから2つ上の階層（つまり C:\Users\ユーザー名\OneDrive\_fein\）を指します。<br>
   このように自分が頻用するディレクトリをワークスペースに追加した上で、上述したタスクを実行することができます。</p>

  <h4>タスクの実行</h4>
  <p>あるいは、タスクランナーを使うよりこちらのほうが感覚的に分かりやすいかもしれません。</p>

  <dl>
   <dt>Visual Studio Codeを開く：</dt>
   <dd>既に <span class="codecolor">C:\Users\ユーザー名\OneDrive\_fein\google cloud\fein-sites-dev1\www</span>
    フォルダをワークスペースとして開いていることを確認する。</dd>

   <dt>ターミナルを開く：</dt>
   <dd>Ctrl + Shift + P キーを押して、コマンドパレットを開きます。</dd>

   <dt>タスクの実行：</dt>
   <dd>コマンドパレットが開いたら、「Task: Run Task」と入力し、Enter キーを押します。</dd>

   <dt>タスクの選択：</dt>
   <dd>表示されたタスクのリストから <span class="codecolor">Run Google Cloud Commands</span> を矢印キーで選び、Enter キーを押して実行します。</dd>
  </dl>


  <p> この手順で tasks.json に設定されたビルドタスクが実行され、Google Cloud SDKの環境がセットアップされます。<br>
   タスクランナーを使うも良し。<br>
   こうやってワークスペースを作った上でタスク実行をしても良し。<br>
   何かやるたびにVS Codeから外に出ていると、作業効率も落ちます。<br>
   せっかくVS Code内でコマンドプロンプトやシェルが操作できるのですから、可能な限り活かしていきたいものですね。 </p>

  <h5>VS Codeのアウトライン機能</h5>
  <p>長いコードを書くときにはアウトライン機能が便利です。<br>
   htmlならh2やpといったタグのところで区切りがあるので、そこを辿りつつコードを書いていくことができます。</p>

  <img src="/contents/itimages/vscodeアウトライン.png" alt="vscodeのアウトライン機能" class="biggraphic fade-in-out">


  <h2>VS Codeで複数ファイルを一括置換</h2>

  <p>他のテキストエディタでもできますが、Visual Studio Codeは特にやりやすいと感じますね。<br>
   複数のファイルをまとめて一気に置換できるのです。<br>
   これの有無で個人サイトの効率がまったく違うのですよ。<br>
   ちなみに１つのファイルで検索するだけなら、いつもの「ctrl+f」が使えます。<br>
   左側の虫眼鏡アイコンを押すか、「ctrl+shift+f」でまとめて検索できるんですよね。</p>

  <img src="/contents/itimages/vscode置換前のメッセージ.png" alt="vscodeにおける置換前のメッセージ" class="biggraphic fade-in-out">

  <p>ただ…実際には、例えば次のようなコードのブロックを丸ごと差し替えたいことが頻繁にあります。<br>
   これが１つや２つのページなら良いのですが、複数のページで差し替えるとなると大変なんです。</p>

  <img src="/contents/itimages/vscode複数行置換.png" alt="vscodeによる複数行置換" class="biggraphic fade-in-out">

  <p>ここでやりたいのは、次のような検索と置換です。</p>

  <p class="gra">Web制作あるある：置換パターン</p>
  <ol>
   <li>index.html と blue.html と red.html がある</li>
   <li>この３つ共通で使っている文章があるが、全て差し替えたい</li>
   <li>でも一つ一つ書き換えていくのは手間である</li>
   <li>だからまとめて一気に置換したい</li>
  </ol>

  <p>上の例では３つとなっていますが、これで30も300もhtmlファイルがあったらどうでしょう？<br>
   その置換作業は非常に面倒であり、ほとんど現実味がないです。<br>
   コードエディタでちゃちゃっとやってしまうか、PythonのBeautifulSoupあたりを使ってもいいよね。<br>
   いずれにしても、手作業しないのが鉄則かと？</p>

  <h3>htmlファイルによってコードブロックのインデントが異なる</h3>
  <p>Web制作あるあるですが、同じコードでも各htmlファイルによって書式がばらついてしまうことがあります。<br>
   次のようにインデントや改行ポイントが違ってきてしまう。<br>
   これをまとめて検索して引っかけようとすると、ちょっとしたコツが必要になってきます。</p>

  <div class="code-container">
   <pre><code class="feintyping language-html">
&lt;!--半角だけのインデントがあるコード--&gt;
&lt;body&gt;
    &lt;h1&gt;こんにちは、世界！&lt;/h1&gt;
    &lt;p&gt;これはテスト用のHTMLページです。&lt;/p&gt;
&lt;/body&gt;

&lt;!--半角・全角・タブまで入ったインデントがあるコード--&gt;
&lt;body&gt;
    　　　   &lt;h1&gt;こんにちは、世界！&lt;/h1&gt;
    　　&lt;p&gt;これはテスト用のHTMLページです。&lt;/p&gt;
&lt;/body&gt;

&lt;!--半角・全角・タブが入り交じり、かつ改行まで入ったインデントがあるコード--&gt;
&lt;body&gt;


　&lt;h1&gt;こんにちは、世界！&lt;/h1&gt;
　　  	&lt;p&gt;これはテスト用のHTMLページです。&lt;/p&gt;

&lt;/body&gt;
                </code></pre>
  </div>

  <p>このように、htmlファイル全てが同じようなインデントになっているとは限りません。<br>
   でもまとめて置換したい…<br>
   こういうときにどうすれば良いかというお話です。</p>

  <p class="feintag">Pythonコードを記載予定だよ！</p><br>

  <h4>VS Codeに関する小話</h4>
  <p>そういえばVisual Studio Codeは「ウェブデザイン技能検定」の2級実技試験で、指定ソフトウェアとして使用されているんですよね。<br>
   たしか…令和5年度からだったと思うけど、VS Codeが指定ソフトウェアに加えられました。<br>
   こういうところはけっこう大切だと思っていて、可能なら大きなシェアを獲得しているソフトウェアの方が良いと思うんです。<br>
   設定項目のヒントもネットにいっぱいあるからさ。</p>

  <!-- ●ここから人間用のフッター● -->
  <hr id="feinhr">
  <div class="spacer"></div>

  <section class="sitemap">
   <h2 class="sitemap_heading">サイトマップ</h2>
   <p><a href="/pages/pagelist">全ページをリスト化したサイトマップ</a>も用意していますが、けっこうなページ数があります。<br>
    下記の「カテゴリー分けサイトマップ」のほうが使いやすいでしょう。</p>
   <p><a href="/another-eden/anaden_sitemap.html">
     アナザーエデン関連ページ・サイトマップ</a><br>
    アナザーエデンの強敵戦やストーリーコンテンツのリスト、お勧めバッジなどを掲載したコーナーです。<br>
    期間限定のない普通のRPGですので、初心者でも安心して続けていけるゲームとなっています。<br>
    もっとも重要なグラスタについては、場所別に網羅した表があります。</p>

   <p><a href="/contents/site_create.html">
     個人サイトのホスティングとコンテンツ作成</a><br>
    個人でウェブサイトを作るなら時間をかけて。<br>
    HTML・CSS・JavaScriptの書き方はもちろん、無料かつ広告なしでホームページを作る方法を掲載したコーナーです。<br>
    Webデザインやレイアウトについても書いてあります。</p>
   <p><a href="/fish/fish_sitemap.html">魚釣りなどアウトドアのエリア</a><br>
    ゲームとパソコンだけじゃなく、アウトドアも趣味なんです。<br>
    このコーナーでは魚釣りの記録とか、魚料理のレシピ、はたまたサイクリングなどなど。<br>
    アウトドアに関連するコンテンツが詰め込まれています。</p>

  </section>

  <!-- ページ上部へ戻るボタン -->
  <button id="scrollToTopBtn" onclick="scrollToTop()">ページ上部へ戻る</button>
  <script src="/script/feinScroll.js"></script>

  <div class="spacer"></div>

  <footer>
   <!--common google digital leader-->

   <div id="commongdl"></div>
   <script src="/externalization/common.js"></script>

   <div class="spacer"></div>


   <div class="spacer"></div>
   <p class="portal" id="updated-date">この <a href="https://feinatelier.org/">fein's personal
     site</a> は、2023/7/4に開設された <a href="https://portal.feinatelier.org/">fein's
     portal</a>
    を母体として、yyyy/mm/ddに至るまで更新し続けられています。</p>
   <script>
    document.addEventListener('DOMContentLoaded', function () {
     const today = new Date();
     const year = today.getFullYear();
     const month = String(today.getMonth() + 1).padStart(2, '0');
     const day = String(today.getDate()).padStart(2, '0');
     const dateElement = document.getElementById('updated-date');
     dateElement.innerHTML = `この <a href="https://feinatelier.org/">Fein Atelier - org</a> は、2023/7/4に開設された <a href="https://portal.feinatelier.org/">fein's portal</a> を母体として、${year}/${month}/${day}に至るまで更新し続けられています。`;
    });
   </script>

  </footer>

 </div><!--レスポンシブデザイン-->

 <script src="/script/feinheadline1.js"></script><!--見出しの自動生成-->

 <!-- ●ここまで人間用のフッター。直下でbodyを閉める● -->
</body>

</html>
